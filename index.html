<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Controller</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="card" id="main-menu">
            <h1>Robot Controller</h1>
            <p>Select a mode or command to begin.</p>
            <button id="rc-mode-btn">RC Mode</button>
            <button id="load-maze-btn">Load Maze</button>
            <button id="solve-maze-btn">Solve Maze</button>
            <button id="settings-btn">Settings</button>
            <button id="stop-btn">Stop</button>
        </div>

        <div id="rc-view" class="hidden">
            <h1>RC Mode</h1>
            <div id="joystick-container"></div>
            <button id="rc-back-btn">Back to Menu</button>
        </div>

        <div id="settings-view" class="hidden">
            <h1>Settings</h1>

            <div class="setting">
                <label for="max-speed-slider">Max Speed: <span id="max-speed-value">50</span>%</label>
                <input type="range" id="max-speed-slider" min="0" max="100" value="50">
            </div>

            <div class="setting">
                <label for="kp-input">Kp</label>
                <div class="counter">
                    <button class="counter-btn minus">-</button>
                    <input type="number" class="counter-input" id="kp-input" value="1.0" step="0.1">
                    <button class="counter-btn plus">+</button>
                </div>
            </div>

            <div class="setting">
                <label for="ki-input">Ki</label>
                <div class="counter">
                    <button class="counter-btn minus">-</button>
                    <input type="number" class="counter-input" id="ki-input" value="0.5" step="0.1">
                    <button class="counter-btn plus">+</button>
                </div>
            </div>

            <div class="setting">
                <label for="kd-input">Kd</label>
                <div class="counter">
                    <button class="counter-btn minus">-</button>
                    <input type="number" class="counter-input" id="kd-input" value="0.2" step="0.1">
                    <button class="counter-btn plus">+</button>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="error-chart"></canvas>
            </div>
            <button id="settings-back-btn">Back to Menu</button>
        </div>
    </div>

    <!-- Load Maze Modal -->
    <div id="load-maze-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Load Maze</h2>
            <div id="maze-list"></div>
            <button id="load-selected-maze-btn">Load</button>
        </div>
    </div>

    <!-- Solve Maze Modal -->
    <div id="solve-maze-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Solve Maze</h2>
            <input type="text" id="maze-name-input" placeholder="Enter maze name">
            <button id="start-solving-btn">Start Solving</button>
            <div class="loader hidden"></div>
            <button id="abort-solving-btn" class="hidden">Abort</button>
        </div>
    </div>

    <script src="vendor/nipplejs.js"></script>
    <script src="vendor/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>